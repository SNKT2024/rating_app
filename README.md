# Store Rating Application

A full-stack web application enabling users to rate stores, with distinct functionalities for System Administrators, Store Owners, and Normal Users. This project demonstrates secure authentication, role-based access, and efficient data management.

## ‚ú® Key Features

User Roles: Admins, Store Owners, and Normal Users with varying access levels.

Secure Authentication: Login, signup, and password management powered by JWT.

Role-Based Access Control: Dynamically restricts features based on user roles.

Admin Dashboard: Complete CRUD (Create, Read, Update, Delete) operations for users and stores, plus system statistics.

Normal User Interface: Browse stores, submit/modify ratings, and search.

Store Owner View: Access to their store's average rating and a list of users who have rated it.

Robust Validation: Comprehensive backend validation for all incoming data.

## üíª Tech Stack

**Backend:** Node.js, Express.js, MySQL (mysql2/promise), JSON Web Tokens (JWT), bcrypt

**Frontend:** React.js (Vite), React Bootstrap, Axios, React Router DOM

## ‚öôÔ∏è Installation & Setup

Get the project running locally in a few simple steps:

### 1. Backend Setup

Navigate to the backend directory:

```bash
git clone <your-repo-url>
cd <your-repo-name>/backend
```

Install dependencies:

```bash
npm install
```

#### Database Configuration

Ensure MySQL is installed and running.

Create a new database (e.g., rating_app).

Execute your SQL schema scripts to create the users, stores, ratings, and refresh_tokens tables.

Ensure ON DELETE CASCADE is configured for foreign keys (user_id in ratings, refresh_tokens, and store_id in ratings).

For owner_id in stores, use ON DELETE SET NULL.

#### Initial Admin User:

For immediate access, manually insert a system_admin user into your users table:

```sql
INSERT INTO users (name, email, password, role) 
VALUES ('Admin', 'admin@example.com', 'your_bcrypt_hashed_password', 'system_admin');
```

(Replace your_bcrypt_hashed_password with a hash generated by bcrypt).

#### Environment Variables

Create a .env file in the backend directory. Add your database credentials and JWT secrets:

```
DB_HOST=localhost
DB_USER=root
DB_PASS=your_mysql_password
DB_NAME=rating_app
JWT_ACCESS_TOKEN=your_strong_secret_for_access_tokens_here
JWT_REFRESH_TOKEN=your_strong_secret_for_refresh_tokens_here
PORT=3000
```

### 2. Frontend Setup

Navigate to the frontend directory:

```bash
cd ../frontend
```

Install dependencies:

```bash
npm install
```

#### Environment Variables

Create a .env file in the frontend directory. Add the base URL for your backend API:

```
VITE_API_BASE_URL=http://localhost:3000/api
```

## ‚ñ∂Ô∏è How to Run

### Start Backend Server:

From the backend directory:

```bash
npm start
```

The backend server will run on http://localhost:3000.

### Start Frontend Development Server:

From the frontend directory:

```bash
npm run dev
```

The application will open in your browser, typically at http://localhost:5173.

You're all set! Now you can create users, log in, and explore the different dashboards.
